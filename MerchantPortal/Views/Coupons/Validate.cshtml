@inject ILocalizationService LocalizationService
@model Getir.MerchantPortal.Models.ValidateCouponRequest

<h3>@LocalizationService.GetString("ValidateCoupon")</h3>

<form asp-action="Validate" method="post">
	@Html.AntiForgeryToken()
	<div class="row">
		<div class="col-md-6 mb-3">
			<label class="form-label">@LocalizationService.GetString("Code")</label>
			<input asp-for="Code" class="form-control" />
		</div>
		<div class="col-md-6 mb-3">
			<label class="form-label">@LocalizationService.GetString("OrderAmount")</label>
			<input asp-for="OrderAmount" type="number" step="0.01" class="form-control" />
		</div>
	</div>
	<button type="submit" class="btn btn-primary">@LocalizationService.GetString("Validate")</button>
</form>

@if (ViewBag.Result != null)
{
	var r = (Getir.MerchantPortal.Models.CouponValidationResponse)ViewBag.Result;
	<div class="mt-3 alert @(r.IsValid ? "alert-success" : "alert-danger")">
		<strong>@(r.IsValid ? LocalizationService.GetString("Valid") : LocalizationService.GetString("Invalid"))</strong>
		@if (!string.IsNullOrWhiteSpace(r.Reason)) { <span>- @r.Reason</span> }
		@if (r.DiscountAmount.HasValue) { <div>@LocalizationService.GetString("DiscountAmount"): @r.DiscountAmount.Value.ToString("N2")</div> }
	</div>
}


