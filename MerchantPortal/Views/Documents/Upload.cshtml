@inject ILocalizationService LocalizationService
@model Getir.MerchantPortal.Models.UploadMerchantDocumentViewModel

<h3>@LocalizationService.GetString("UploadDocument")</h3>

@if (!Model.AvailableTypes.Any())
{
	<div class="alert alert-warning">
		Gerekli belge türleri alınamadı. Yine de yükleme yapabilirsiniz ancak tür bilgisini manuel girmeniz gerekebilir.
	</div>
}

<form asp-action="Upload" method="post" enctype="multipart/form-data">
	@Html.AntiForgeryToken()
	<input type="hidden" asp-for="Request.MerchantId" />

	<div class="mb-3">
		<label class="form-label">@LocalizationService.GetString("DocumentType")</label>
		@if (Model.AvailableTypes.Any())
		{
			<select asp-for="Request.DocumentType" class="form-select">
				<option value="">@LocalizationService.GetString("Select")</option>
				@foreach (var type in Model.AvailableTypes)
				{
					<option value="@type.Type">@type.Name (@(type.IsRequired ? "Zorunlu" : "Opsiyonel"))</option>
				}
			</select>
		}
		else
		{
			<input asp-for="Request.DocumentType" class="form-control" />
		}
		<span asp-validation-for="Request.DocumentType" class="text-danger"></span>
	</div>
	<div class="mb-3">
		<label class="form-label">@LocalizationService.GetString("Notes")</label>
		<textarea asp-for="Request.Notes" class="form-control" rows="3"></textarea>
		<span asp-validation-for="Request.Notes" class="text-danger"></span>
	</div>
	<div class="mb-3">
		<label class="form-label">@LocalizationService.GetString("File")</label>
		<input type="file" name="file" class="form-control" />
	</div>

	<button class="btn btn-primary" type="submit">@LocalizationService.GetString("Upload")</button>
	<a class="btn btn-secondary" href="@Url.Action("Index")">@LocalizationService.GetString("Cancel")</a>
</form>

<partial name="_ValidationScriptsPartial" />
